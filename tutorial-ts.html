<!doctype html>
<html lang="zh-CN">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>TypeScript 上手指南</title>
  <link rel="stylesheet" href="styles.css" />
  <link rel="icon" href="favicon.svg" type="image/svg+xml" />
  <style>.hero-img{max-width:100%;height:auto;border-radius:8px;margin:16px 0} .icons{display:flex;gap:12px;margin:8px 0} .icons img{width:48px;height:48px}</style>
</head>
<body>
  <header class="site-header">
    <div class="container header-inner">
      <h1 class="site-title"><a href="index.html" style="text-decoration:none;color:inherit;">鸟国网站</a></h1>
      <nav class="site-nav">
        <a href="index.html">首页</a>
        <a href="features.html">功能分类</a>
        <a href="downloads.html">软件下载</a>
        <a href="tutorials.html">教程专区</a>
        <a href="vm.html">虚拟机专区</a>
        <a href="os.html">系统镜像专区</a>
        <a href="games.html">游戏专区</a>
        <a href="official.html">官方跳转</a>
        <a href="tasks.html" id="navTasks">任务</a>
        <a href="user.html" id="navUser">用户</a>
        <a href="#" id="navLogin">登录</a>
      </nav>
    </div>
  </header>
  <main style="max-width:920px;margin:0 auto;padding:24px 16px;">
    <h1>TypeScript 上手指南</h1>
    <p>类型系统、泛型、模块、工程实践与常见坑的快速上手。</p>
    <img class="hero-img" src="hero-dev.svg" alt="开发插图" />
    <div class="icons">
      <img src="icon-beginner.svg" alt="新手" />
      <img src="icon-project.svg" alt="项目" />
      <img src="icon-debug.svg" alt="调试" />
    </div>
    <h2>安装与环境</h2>
    <ul>
      <li>安装：<code>npm i -D typescript</code>，初始化 <code>tsc --init</code></li>
      <li>运行：Node.js + <code>ts-node</code> 或编译后运行</li>
      <li>前端：Vite/Webpack，配置 <code>tsconfig.json</code> 与路径别名</li>
    </ul>
    <h2>基础语法</h2>
    <pre><code>// 类型与接口
type Id = number | string
interface User { id: Id; name: string; age?: number }
// 泛型
function wrap<T>(value: T){ return { value } }
// 字面量与联合类型
type Direction = 'up'|'down'
// 类型收窄
function len(x: string | string[]){ return Array.isArray(x) ? x.length : x.length }
// 模块与导入导出
export function add(a:number,b:number){ return a+b }
</code></pre>
    <h2>常见坑</h2>
    <ul>
      <li><code>any</code> 谨慎使用；优先 <code>unknown</code> 并配合类型收窄</li>
      <li>类型断言：建议节制使用 <code>as</code>，避免掩盖真实问题</li>
      <li>this 上下文：用箭头函数避免 <code>this</code> 绑定丢失</li>
    </ul>
    <h2>练习题（基础）</h2>
    <ol>
      <li>实现一个 <code>Result&lt;T,E&gt;</code> 类型并编写配套工具函数（<code>ok</code>/<code>err</code>/<code>isOk</code>）。</li>
      <li>实现一个类型安全的事件总线。</li>
      <li>为 REST 响应建模，包含分页与错误类型。</li>
    </ol>
    <h2>中段插图</h2>
    <img class="hero-img" src="diagram-architecture.svg" alt="架构示意图" />
    <img class="hero-img" src="illustration-code.svg" alt="代码示意图" />

    <h2>扩展内容</h2>
    <ul>
      <li>高级类型：条件类型、映射类型与类型编程。</li>
      <li>库设计：API 设计与 <code>tsup</code>/<code>vite</code> 打包。</li>
      <li>前端工程：<code>eslint</code>/<code>prettier</code>/<code>vitest</code> 集成。</li>
    </ul>
    <h2>更多练习</h2>
    <ol>
      <li>实现一个类型安全的 <code>fetch</code> 封装，支持分页与错误。</li>
      <li>编写一个表单校验库，类型安全、可扩展。</li>
      <li>搭建组件库并发布到 npm（可用私有 scoped 包）。</li>
    </ol>
  <hr/>
<section id="theory-index">
  <h2>理论与论文到代码索引（TypeScript）</h2>
  <ul>
    <li><a href="./tutorial-p2c-mapreduce.html">MapReduce（概念）</a>；前端可用于数据处理与可视化演示。</li>
  </ul>
</section>
 </main>
  <section style="max-width:920px;margin:0 auto;padding:0 16px;">
    <h2>参考资源</h2>
    <ul>
      <li><a href="https://www.typescriptlang.org/docs/" target="_blank" rel="noopener">TypeScript 官方文档</a>（类型系统与编译器）</li>
      <li><a href="https://www.typescriptlang.org/tsconfig" target="_blank" rel="noopener">TSConfig 参考</a>（项目配置详解）</li>
      <li><a href="https://www.typescriptlang.org/docs/handbook/utility-types.html" target="_blank" rel="noopener">Utility Types</a>（常用内置工具类型）</li>
  </ul>
  <h2>系统学习路径</h2>
    <ol>
      <li>类型基础：联合/交叉、泛型、条件类型与映射类型。</li>
      <li>工程化：配置与编译、Lint 与格式化、测试与类型测试。</li>
      <li>前后端协作：前端框架 TS 化、后端类型协作、API 类型管理。</li>
    </ol>
    <h2>进阶项目</h2>
    <ol>
      <li>类型安全的前端状态与接口层（错误边界/重试/缓存）。</li>
      <li>Monorepo 类型共享：包内类型统一、发布流程与验证。</li>
      <li>类型驱动的表单系统：Schema→类型、渲染与校验。</li>
    </ol>
  </section>
  <main style="max-width:920px;margin:0 auto;padding:24px 16px;">
    <h2>加长版：工程化与进阶（TypeScript）</h2>
    <p>面向能落地项目的 TS 指南：类型系统进阶、工具类型、类型缩小、tsconfig 配置、测试与工具链、后端/前端快速上手，以及 10 道练习题。</p>

    <h3>类型系统进阶与工具类型</h3>
    <pre><code>// 联合/交叉/字面量/可辨识联合
type Id = number | string
type WithMeta<T> = T & { createdAt: Date }
type Direction = 'up' | 'down'
interface Shape { kind: 'circle'|'rect'; area(): number }

// 工具类型：Partial/Pick/Omit/Readonly/Record/Required/NonNullable
type User = { id: Id; name: string; age?: number }
type UserPatch = Partial<User>
type UserView = Pick<User, 'id'|'name'>
type UserRequired = Required<User>
type Dict = Record<string, number>
    </code></pre>
    <p>建议：优先用类型表达业务约束（可辨识联合 + 类型缩小），减少运行时分支错误。</p>

    <h3>类型缩小与守卫</h3>
    <pre><code>function len(x: string | string[]) {
  if (Array.isArray(x)) return x.length; // 缩小到 string[]
  return x.length; // string
}

function handle(u: User | null) {
  if (!u) return;
  // 在此之后 u: User
}
    </code></pre>

    <h3>泛型与约束</h3>
    <pre><code>function wrap<T>(value: T) { return { value } }
function top<T extends { score: number }>(arr: T[]) {
  return [...arr].sort((a,b)=>b.score-a.score)[0]
}
    </code></pre>

    <h3>模块与 tsconfig（严格模式强烈推荐）</h3>
    <pre><code>{
  "compilerOptions": {
    "target": "ES2020",
    "module": "ESNext",
    "moduleResolution": "Node",
    "strict": true,
    "noImplicitAny": true,
    "strictNullChecks": true,
    "esModuleInterop": true,
    "skipLibCheck": true,
    "outDir": "dist"
  },
  "include": ["src"]
}
    </code></pre>
    <p>使用严格模式能提前发现大量类型/可空性问题，减少线上错误。</p>

    <h3>测试与工具链</h3>
    <pre><code>// 安装：npm i -D jest ts-jest @types/jest
// 初始化：npx ts-jest config:init
// 示例：src/add.ts 与 tests/add.test.ts

export const add = (a:number,b:number)=>a+b

test('add', () => {
  expect(add(1,2)).toBe(3)
})

// 代码质量：eslint + prettier
// 打包：tsup/vite/esbuild（小型库推荐 tsup）
    </code></pre>

    <h3>后端：Node + Express + TS 快速起步</h3>
    <pre><code>// 安装：npm i express && npm i -D @types/express ts-node-dev
import express, { Request, Response } from 'express'
const app = express()
app.use(express.json())
app.get('/ping', (_req: Request, res: Response) => res.json({ ok: true }))
app.post('/sum', (req: Request, res: Response) => {
  const arr: number[] = req.body || []
  res.json({ sum: arr.reduce((a,b)=>a+b, 0) })
})
app.listen(3000)
// 开发运行：ts-node-dev src/index.ts
    </code></pre>

    <h3>前端：React + TS 快速起步</h3>
    <pre><code>// 使用 Vite：npm create vite@latest my-app -- --template react-ts
// 组件示例
type ButtonProps = { text: string; onClick?: ()=>void }
export function Button({text,onClick}: ButtonProps){
  return &lt;button onClick={onClick}&gt;{text}&lt;/button&gt;
}
    </code></pre>

    <h3>练习题（10 题）</h3>
    <ol>
      <li>实现 <code>Result&lt;T,E&gt;</code> 类型与配套工具函数 <code>ok/err/isOk</code>。</li>
      <li>编写 <code>fetchJSON(url)</code>，返回 <code>Promise&lt;Result&lt;unknown,Error&gt;&gt;</code>。</li>
      <li>为 Express 项目补全请求/响应的类型，避免 <code>any</code>。</li>
      <li>实现一个 <code>retry(fn, tries)</code> 的工具函数（TS + Jest 测试）。</li>
      <li>用工具类型实现 <code>DeepPartial&lt;T&gt;</code> 与 <code>DeepReadonly&lt;T&gt;</code>。</li>
      <li>为 React 组件添加严格的 Props 类型与默认值，检查交互事件。</li>
      <li>配置 <code>eslint/prettier</code>，并为项目添加 <code>npm run lint</code>/<code>format</code>。</li>
      <li>使用 <code>tsup</code> 打包一个小型库并发布到 npm（可用私有 scoped 包）。</li>
      <li>编写 <code>zod</code> 或 <code>yup</code> 的数据校验 Schema 并与 API 结合。</li>
      <li>使用 <code>vitest</code> 或 Jest 为核心业务写 5 个单测与 1 个集成测。</li>
    </ol>
  </main>
<script src="script.js"></script>
</body>
</html>




